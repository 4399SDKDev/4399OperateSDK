# 4399运营SDK升级日志
----  
## v2.4.3.0
发布日期: __2015-07-20__
- 新增微信支付功能
- 修复一些bug

**注意：微信支付接入流程比较复杂，需要一些操作**
1.在微信开放平台注册游戏APK包名，生成APP_ID
2.使用微信开放平台提供的工具生成APK的sign值，并填入开放平台
3.接入4399SDK，要更新AndroidManefest.xml中的配置
4.添加回调Activity
- 创建(游戏包名.wapi)的包路径，比如org.yjmobile.zmxy.wxapi；
- 将WXPayEntryActivity.java拷贝到下面
- 用开放平台生成的APP_ID更新文件中的相应字段
注意：不要修改包路径和Activity名字（微信SDK已经写死了，修改会导致没有回调结果）

Demo不能直接运行，需要配置一些参数，若需要接入或者测试请联系运营人员

## v2.4.2.1
发布日期：__2015-06-16__
- 增加短代退费功能
- 升级支付宝
- 修复Android 5.x上服务不能隐式启动问题
- 修复其他bug
- **本次更新AndroidManifest中有所更新，请务必同步配置**

## v2.4.0.5
发布日期：__2015-04-25__  
- 悬浮窗->个人中心,消息中心和投诉咨询页面的优化与完善
- 悬浮窗新增“发现”入口，原“关闭”入口移到“个人中心”
- 增加4399用户中心维护的提示功能，以在用户中心宕机的情况下给用户友好提示
- 优化未安装游戏盒时的弹窗提示
- 充值界面首页增加“历史订单”入口，以查看近期订单
- 修复之前版本的一些bug


## v2.3.0.4
发布日期：__2015-02-05__  
- 运营配置OperateCenterConfig更新  
  去除setGameName()接口，游戏名读取服务端配置，  
  去除setTestRecharge()接口，改为充值审核模式，模式调控由游戏后台完成，  
  去除setGameChannel()接口，改为读取渠道配置文件的方式，若需要打渠道包可咨询运营人员  
  [客户端文档](/Document/ClientDocument.md#%E5%88%9D%E5%A7%8B%E5%8C%96)中列举的配置是所有可用配置的示例
- 充值审核模式取代测试模式，并在后台控制该模式的状态，详情咨询运营相关人员  
- 支付宝升级，并进一步完善充值流程，修复某些机器上“取消”充值会Crash的问题  
- 悬浮窗->个人中心，新增投诉入口，详情参考Demo  
- 悬浮窗->个人中心，新增消息推送功能，详情咨询运营相关人员  
- 增量更新优化，优化了更新日志的显示和检查更新失败的处理流程  
- 修复之前版本的一些bug

## v2.2.0.2
发布日期：__2014-12-22__
- 新增短代渠道
- 移动短代策略调整
- 优化悬浮窗弹窗结构，改为扇形，优化弹窗动画
- 合并登出和个人中心里帐号切换接口到初始化的全局接口里
- 修复先前发布版本中已知的bug


## v2.1.1.13
发布日期：__2014-11-22__
- 没有游戏圈时增加弹框


## v2.1.1.12
发布日期：__2014-11-21__
- 增加充值测试模式
- 增加游戏退出接口
- 优化增量更新
- 扩充mark字段，新增支持'|'、'-'、'_'字符
- 充值接口金额改为整型
- 增加4399游戏盒官网、攻略、礼包3个入口
- 优化SDK初始化逻辑，加快初始化速度，修正了部分游戏启动时黑屏的bug  


## v2.1.0.4  
发布日期：__2014-10-14__  
- 修正配置中关闭游戏圈时，游戏启动是崩溃异常    


## v2.1.0.2  
发布日期：__2014-10-13__  
- 更换移动短代运营商  
- 新增悬浮窗样式选择  
- 修正2.0.0中隐藏按钮BUG  
- 增加个人中心  
- 增加4399游戏盒授权、游戏圈    
- 重构充值UI  


## v2.0.0  
发布日期：__2014-9-28__  
- 更新支付宝SDK2.0  
- 增加悬浮窗  
- 增加增量更新  
- 增加个人中心  
- 增加4399游戏盒授权、游戏圈    
- 重构充值UI  
